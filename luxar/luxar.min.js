// Last time updated: 2023-11-5 9:33:16 AM UTC

// ________________
// Luxar v7.8.1 

// Open-Sourced: https://github.com/ModrenCompany/ModrenPackages/tree/main/luxar

// '--------------------------------------------------'
// SurName: Mohamed Mustafa,
// Age: 13,
// Country: Egypt - EG,
// Location: Giza Haram kom a5dr tersa mareotya,
// Team often: 1,
// Helpers:
//  1 - ChatGPT - deepAI made by OpenAI / webLink: "https://chat.openai.com/?request=86h63-h4103-79k14",
//  2 - Clyde - a discord bot(AI) webLink: https://support.discord.com/hc/en-us/articles/13066317497239-Clyde-Discord-s-AI-Chatbot/,
//  3 - DeepAI - webLink: "https://deepai.org/chat/",
// Top:
//  1 - ChatGPT,
//  2 - DeepAI,
// 
// '--------------------------------------------------'
// Company: ModrenCompany \ MDC \ MD,
// VersionType: alpha;
// '--------------------------------------------------'

class LuxarClass {
  async patcher(url) {
    const xhr = new XMLHttpRequest();
    xhr.open('GET', `"${url}"`, true);
    xhr.onload = function() {
      if (xhr.status === 200 && xhr.status === 300) {
        console.log(xhr.responseText);
      } else {
        console.error('Error:', xhr.status);
      }
    };
    xhr.onerror = function() {
      console.error('There was an error in the request.');
    };    
    xhr.send();
  };
  randomUUID(len) {
    const crypto = require('crypto');
    return crypto.randomUUID().slice(0, len);
  };
  Mailer(data,user) {
    const nodemailer = require('nodemailer');

    const transporter = nodemailer.createTransport({
      service: `"${user.service}"`,
      auth: {
        user: `"${user.email}"`,
        pass: `"${user.pass}"`,
      },
    });

    const mailOptions = {
      from: `"${data.from}"`,
      to: `"${data.to}"`,
      subject: `"${data.subject}"`,
      text: `"${data.text}"`,
    };

    transporter.sendMail(mailOptions, (error, info) => {
      if (error) {
        console.error(error);
      } else {
        console.log('Email sent: ' + info.response);
      }
    });
  };
  wardon(sv,level,err,combined) {
    const winston = require('winston');

    const logger = winston.createLogger({
      level: `"${level}"`,
      format: winston.format.json(),
      transports: [
        new winston.transports.File({ filename: `"${err.filename}"`, level: `"${err.level}"` }),
        new winston.transports.File({ filename: `"${combined}"` }),
      ],
    });

    logger.log({
      level: `"${level}"`,
      message: `"${sv}"`,
    });
  };
  chatter(data) {
    const http = require('http');
    const express = require('express');
    const socketIo = require('socket.io');

    const app = express();
    const server = http.createServer(app);
    const io = socketIo(server);

    io.on('connection', (socket) => {
      console.log('A user connected');
      socket.on(`"${data.onSocket}"`, (msg) => {
        io.emit(`"${data.emit}"`, msg);
      });
      socket.on('disconnect', () => {
        console.log('User disconnected');
      });
    });

    server.listen(data.port,data.hostname, () => {
      console.log(`Server Link: http://${data.hostname}:${data.port}`);
    });
  };
};

const Luxar = LuxarClass.prototype;

module.exports = {
  Luxar,
};
